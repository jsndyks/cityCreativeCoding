<!DOCTYPE html>
<html>

<head>
  <title>Programming BootCamp : Invader Game</title>

  <!-- Header, 16th September, 2021 -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Embedded fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Slab|Shadows+Into+Light|Source+Code+Pro&display=swap"
    rel="stylesheet">

  <!-- Custom layout and style -->
  <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/shCore.css" type="text/css" />
  <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/shThemeDefault.css" type="text/css" />
  <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/kube.min.css" type="text/css" />
  <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/master.css?rnd=123" type="text/css" />
  <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/highslide.css" type="text/css" />

  <!-- General browser compatibility handling -->
  <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/jquery-3.1.0.slim.min.js"></script>

  <!-- Formatted source code -->
  <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/shCore.js"></script>
  <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/shBrushProcessing.js"></script>

  <!-- Sketch popups and hidden text-->
  <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/highslide-with-html.packed.js"></script>
  <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/highslide-cfg.js"></script>
  <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/master.js"></script>

  <!-- iFrame -->
    <script type="text/javascript" src="https://jsndyks.github.io/cityBootCamp/js/iframeResizer.contentWindow.min.js"></script>

    <style>
     img.invader {border:dashed 1px #e0e0e0}
     hr.step {margin-top:10em}
     hr.solutionButton {width:60%;margin-top:3em;padding-top:1em; color:#d0d0d0}
     .link-show-code {margin-top:2em;padding-top:1em; padding-bottom:1em;border-top:dashed #e0e0e0 1px}
     .showSolutionButton {padding-bottom:2em;}
     .stepTask {padding:0.5em; color:#a04040; background-color:#fff0f0}
     h3 {margin-top:2.5em; color:#a04040;}
    </style>
</head>

<body>
  <div id="page">
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Main content ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    
<!--     
    We'd like you to try this exercise in class.
    Please _attempt each of the exercises_ **before checking the solutions**.
    Trying things out and _thinking things through_, and _getting things wrong_ before seeing a solution that works is **the best way to learn to code**.

    You can access [this page](https://jsndyks.github.io/cityBootCamp/html/art/2023%7C24/copyright.html) outside of _Moodle_ should you wish to do so. 
  -->


    <h2>Invader Class</h2>
  
    <p>Let's use what we have learned about <i>interaction</i>, <i>methods</i>, <i>images</i> and <i>classes</i> to write a simple game in <em>Processing</em>.</p>
    <p>This page sets 14 successive tasks to build the game. In each case it gives you code snippets and asks you to develop these to achieve particular capability.</p>
    <p>You can reveal solutions by clicking the buttons at the end of each step - but of course, you will learn most and most successfully if you try to complete the tasks without these solutions.</p><p></p>Gaining capabilities in programming is all about practicing, making mistakes and learning from this experience - with guidance and solutions to help. Have a go, and see what you learn through the process.</p>
  
    <hr/>

    <div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
      <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step01.gif" width=125/>
    </div>

    <h3>Step 1. Show the FrameCount</h3>
    <p class="stepTask">Make a simple sketch that shows the <code><a href="https://processing.org/reference/frameCount.html">frameCount</a></code> on a canvas of <code><a href="https://processing.org/reference/size_.html">size()</a></code> <b>200 x 200</b>.</p>
    <p>Use the <code><a href="https://processing.org/reference/text_.html">text()</a></code> method to do so - it takes three parameters that specify:
      <br/>&nbsp;&nbsp;&raquo;&nbsp;&nbsp;the text String to show on the canvas, and then the x and y positions at which to display the text: 
    <code>text(string, x, y)</code></p>
    <p>Remember that <code><a href="https://processing.org/reference/frameCount.html">frameCount</a></code> is a variable held and updated by <i>Processing</i> that records the number of times the <code>draw()</code> loop has been called.
    <br/>Change <code><a href="https://processing.org/reference/textSize_.html">textSize()</a></code> and the colour to <code><a href="https://processing.org/reference/fill_.html">fill()</a></code> the text with in <code>setup()</code> if you like - e.g. big, orange ðŸ‘‰!</p>


    <pre class="brush: processing; gutter: false; toolbar: false; highlight: [18]">
      void setup()
      {
        size(200, 200);
      }
      
      void draw() {
        background(255);
        // -- add the text() here - you decide where to position it on the canvas
      }
</pre>

        <!-- Hidden code button -->
<hr class="solutionButton"/>
            <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Coding Takes Practice and Requires 'Doing' (and mistakes)!</span>
        <div class="prettyprint" style="display: none;">
          <pre class="brush: processing; gutter: false; toolbar: false; highlight: [4,5,6,7,13]">
            void setup()
            {
            Â Â size(200, 200);
              // -- you might want to add a few lines to setup() to change the size, colour and alignment of the text:
              textSize(48);
              textAlign(CENTER);
              fill(255,64,32);
            }
            Â 
            void draw() {
            Â Â background(255);
              // -- add the text() here - you decide where to position it on the canvas
              text(frameCount, width/2, height/2);
            }
          </pre>
          </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/img/invader.02.png" width=125/>
</div>

<h3>Step 2. Add Two Images</h3>
<p class="stepTask">Declare, initialise and display two <code>PImage</code>s.</p>
<p>Declare the two <code>PImage</code>s as global variables.<br/>
Initialise them in the <code>setup()</code> method of the sketch to contain these these two images loaded from the following URLs, or from your local filespace.</p>
<ul>
  <li><a href="https://jsndyks.github.io/cityBootCamp/images/invader11.up.png">https://jsndyks.github.io/cityBootCamp/images/invader11.up.png</a></li>
  <li><a href="https://jsndyks.github.io/cityBootCamp/images/invader11.down.png">https://jsndyks.github.io/cityBootCamp/images/invader11.down.png</a></li>
</ul>
<p>Then display them in different places on the canvas with <code><a href="https://processing.org/reference/image_.html">image()</a></code>.</p>
<p>Call <code><a href="https://processing.org/reference/imageMode_.html">imageMode(CENTER)</a></code> in <code>setup()</code> to centre the image in the coordinates that you specify in the second and third parameters of <a href="https://processing.org/reference/image_.html">image()</a></code>.</p>

<!-- <p>Use <code><a href="https://processing.org/reference/quad_.html">PImage</a></code> and the <code><a href="https://processing.org/reference/quad_.html">image()</a></code> method to do so.</p> -->

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [6, 17]">
  PImage img1, img2; // <-- declare two PImages as global variables

  void setup() {
    size(200, 200);
  
    // -- initialise the PImages here by loading them from the image URLs
  
    imageMode(CENTER);
  }
  
  void draw() {
    background(255);
  
    // -- show the frameCount (small, near the top):
    text(frameCount, width-40, 12);
  
    // -- use image() to draw the PImages here

  }</pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
    <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do we load a <code>PImage</code> and show it on the canvas?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [7,8,21,22]">
        PImage img1, img2;

        void setup() {
          size(200, 200);
        
          // -- initialise the PImages here by loading them from the image URLs
          img1 = loadImage("invader11.up.png");
          img2 = loadImage("invader11.down.png");
        
          imageMode(CENTER);
        }
        
        void draw() {
          background(255);
        
          // -- show the frameCount (small, near the top):
          fill(32);
          text(frameCount, width-40, 12);
        
          // -- use image() to draw the images here
          image(img1, width/2, height/4, 50, 50);
          image(img2, width/2, 3*height/4, 50, 50);
        }</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step03.gif" width=125/>
</div>

<h3>Step 3. Add an Interaction</h3>
<p class="stepTask">Add an interaction to one image so that it is a different colour when the mouse is over it.</p>
<p>Remove one of the images!<br/>
  Make the image position and size of the remaining image dependent upon three global variables.<br/>
  These should be declared at the top of your sketch before the <code>setup()</code> method:
  <code>xI</code>, <code>yI</code> and <code>sI</code> for the x and y positions, and size of the invader respectively.</p>
  <p>Check whether the mouse is over the image.<br/>
  Use <code><a href="https://processing.org/reference/tint_.html">tint()</a></code> to change the colour of the image if so.<br/>
Remember that <code>tint(255)</code> will produce a regular (untinted) image, as will <code><a href="https://processing.org/reference/noTint_.html">noTint()</a></code>.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [25,26]">
  PImage img1, img2;

  int sI = 25;  // &lt;-- Invader size (declare)
  int xI, yI;   // &lt;-- Invader position (declare and initialise)
  
  void setup() {
    size(200, 200);
  
    img1 = loadImage("invader11.up.png");
    img2 = loadImage("invader11.down.png");
  
    xI = width /2;  // &lt;-- initialise Invader position
    yI = height/2;
  
    imageMode(CENTER);
  }
  
  void draw() {
    background(255);
  
    // -- show the frameCount (small, near the top):
    fill(32);
    text(frameCount, width-40, 12);
  
    // -- check mouse position - is it inside the invader?
    if (true) // &lt;-- add the condition to check whether the mouse is over the image
    {
      tint(180, 200, 255);  // &lt;-- blue tint
    } else {
      tint(255); // &lt;-- no tint
    }
  
    // -- draw the invader:
    image(img1, xI, yI, sI, sI);
  }
</pre>


    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - What is the condition to test whether the mouse is within the Invader?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [3]">
          // -- check mouse position - remember that the invader is centred on xI and yI because of imageMode(CENTER)!

          if (mouseX&gt; xI-sI/2 && mouseX&lt; xI+sI/2 && mouseY&gt; yI-sI/2 && mouseY&lt; yI+sI/2) 
            {
              tint(180, 200, 255);  // <-- blue tint
            } else {
              tint(255); // <-- no tint
            }      
</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/img/invader.04.png" width=125/>
</div>

<h3>Step 4. Make a Simple Class - Invader</h3>
<p>We are going to step back a little now and ...</p>
<p class="stepTask">... create a <b>class</b> for space invaders ðŸ‘¾ that will define their characteristics and behaviour.</p>
<p>Create a new tab called '<b>Invader</b>' and add the following rudimentary code to define the class.<br/>The Invader has <i>five fields</i> - variables that are available to all methods in the class.<br/>You will need to fill in the gaps in the constructor to set these fields from the arguments that are passed into the class when the Invader is initialised</p>
<p>So your class should take <em>5 parameters</em> defining any new Invader's ...</p>
<ul>
  <li><code>x</code> - position in x</li> 
  <li><code>y</code> - position in y</li> 
  <li><code>size</code> - size of the image to be drawn</li> 
  <li><code>speed</code> - speed of movement (<em>pixels per frame</em>)</li> 
  <li><code>animSpeed</code> - speed of animation (<em>more about this later, just go with it as a 5th unused parameter for now: #forwardPlanning</em>)</li> 
</ul>
<p>So we might declare and instantiate a new Invader object called <code>mySpaceInvader</code> with ...</p>
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [1]">
  Invader mySpaceInvader = new Invader(width/2, height/2, 100, 3, 50)
</pre>
<p>Use this code snippet as the basis of your class and complete the constructor.</p>
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [11,12,13,14]">
  class Invader
  {
    // -- Create Invader with 7 fields - variables that are accessible to all methods in the class:
    float x, y;                   // <-- Invader position.
    float size, speed;            // <-- Invader size & speed.
    int   animSpeed;               // <-- Invader image animation change speed.
  
    // -- Constructor - this is called whenever a new invader is created.
    Invader(float xIn, float yIn, float sizeIn, float speedIn, int animIn)
    {
      // -- Initialise the state of the invader.
      // -- The values passed into the object should be used to initialise
      // --   the four floats and the integer here in the constructor.
  
    }
  }
  </pre>

  <p>&nbsp;</p>
  <p>Check whether your class works by creating a new Invader object. Simply add the code that we suggested above to the <code>setup()</code> method.</p>
  <pre class="brush: processing; gutter: false; toolbar: false; highlight: [1]">
    Invader mySpaceInvader = new Invader(width/2, height/2, 100, 3, 50);
  </pre>
  <p>We won't see anything, as we haven't drawn it. But if this instantiation runs without an error, then we have successfully defined a class to define Invaders, and created an instance of that class: an invader - '<code>mySpaceInvader</code>'</p>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do we get the values of the arguments passed into the Invader into the fields in the object we create?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [11,12,13,14,15,16]">
        class Invader
        {
          // -- Create Invader with 7 fields - variables that are accessible to all methods in the class:
          float x, y;                   // <-- Invader position.
          float size, speed;            // <-- Invader size & speed.
          int   animSpeed;               // <-- Invader image animation change speed.
        
          // -- Constructor - this is called whenever a new invader is created.
          Invader(float xIn, float yIn, float sizeIn, float speedIn, int animIn)
          {
            // -- Initialise the state of the invader.
            x=xIn;
            y=yIn;
            size=sizeIn;
            speed=speedIn;
            animSpeed=animIn;
          }
        }
              </pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step05.gif" width=125/>
</div>

<h3>Step 5. Add a draw() Method to the Invader Class</h3>
<p class="stepTask">Add a <code>draw()</code> method to draw the Invader.</p>
<p>OK - but we want to see the Invader! So we need to draw it.</p>
<p>Add a <code>draw()</code> method to the Invader class, under the constructor.<br/>
  This will allow us to display any Invader that we create when it is called.</p>
<p>This should to draw the Invader by putting a <code>PImage</code> on the canvas at <code>x</code>,<code>y</code> - but how do we actually draw the Invader?</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [22]">
  class Invader
  {
    // -- Create Invader with 7 fields - variables that are accessible to all methods in the class:
    float x, y;                   // <-- Invader position.
    float size, speed;            // <-- Invader size & speed.
    int   animSpeed;              // <-- Invader image animation change speed.
  
    // -- Constructor - this is called whenever a new invader is created.
    Invader(float xIn, float yIn, float sizeIn, float speedIn, int animIn)
    {
      // -- Initialise the state of the invader.
      x=xIn;
      y=yIn;
      size=sizeIn;
      speed=speedIn;
      animSpeed=animIn;
    }
    
    // -- draw method:  
    void draw()
    {
      // -- Add code here to draw the Invader at x,y with size, size 
    }
  }</pre>

  <p>&nbsp;</p>
  <p>Check whether your Invader <code>draw()</code> method works by defining a new global Invader object and instantiating it with a bigger size (3rd parameter).<br/>
    Call the Invader's <code>draw()</code> method in the main sketch <code>draw()</code> loop.</p>
    <pre class="brush: processing; gutter: false; toolbar: false; highlight: [2,5,8]">
      // -- Declare a global variable of type Invader:
      Invader mySpaceInvader;

      // -- Initialise this Invader object once in setup():
      mySpaceInvader = new Invader(width/2, height/2, 100, 3, 50);

      // -- Call the object's draw() method in the main draw() loop:
      mySpaceInvader.draw();
    </pre>
    <p>What do you notice?<br/>Can you explain this?</p>
    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - What do we put in the object's <code>draw()</code> method to draw an invader with a PImage?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [4]">
        // -- draw method:  
        void draw()
        {
          image(img1, x, y, size, size); // <-- either of the images will do for now!
        }</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step06.gif" width=125/>
</div>

<h3>Step 6. Declare, Instantiate and Draw Invaders</h3>
<p class="stepTask">Create and draw three Invaders.</p>
<p>OK - at last, we have an <code>Invader</code> class that will enable us to declare and instantiate <code>Invader</code> objects that have (some of) the characteristics of Space Invaders! So let's declare, instantiate and draw three Invaders!</p>
<p>This may seem like a lot of work for a little gain right now, but we will reap the rewards later when it becomes easy to create many Invaders ... should we need them.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [3, 20,21,22, 39,40]">
  PImage img1, img2;
 
  Invader spaceInvader1, spaceInvader2, spaceInvader3; // <-- declare Invaders called spaceInvader1, 2 and 3
   
  int sI = 25;  // <-- Invader size (declare)
  int xI, yI;   // <-- Invader position (declare and initialise)
  
  void setup() {
    size(200, 200);
   
    // -- load the images that the Invader objects use:
    img1 = loadImage("invader11.up.png");
    img2 = loadImage("invader11.down.png");
   
    xI = width /2;
    yI = height/2;
   
    imageMode(CENTER);
     
    spaceInvader1 = new Invader (xI,yI,sI,0,0);    // <-- instantiate the first Invader
    spaceInvader2 = new Invader (xI,yI-30,sI,0,0); // <-- instantiate the second Invader above
    spaceInvader3 = new Invader (xI,yI+30,sI,0,0); // <-- instantiate the third Invader below
  }

  void draw() {
    background(255);
  
    // -- show the frameCount:
    fill(32);
    text(frameCount, width-40, 12);
  
    // -- check mouse position - is it inside the invader?
    if (mouseX> xI-sI/2 && mouseX< xI+sI/2 && mouseY> yI-sI/2 && mouseY< yI+sI/2) {
      tint(180, 200, 255);  // <-- blue tint
    } else {
      tint(255); // <-- no tint
    }
    
    // -- add code to draw the Invaders 60 times per second here - use the draw() method:

  }
  </pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do you call the <code>draw()</code> method that you have just written to draw an Invader!</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [18,16,17]">
        void draw() {
          background(255);
        
          // -- show the frameCount:
          fill(32);
          text(frameCount, width-40, 12);

          // -- check mouse position - is it inside the invader?
          if (mouseX> xI-sI/2 && mouseX< xI+sI/2 && mouseY> yI-sI/2 && mouseY< yI+sI/2) {
            tint(180, 200, 255);  // <-- blue tint
          } else {
            tint(255); // <-- no tint
          }
              
          // -- draw the Invaders 60 times per second here - using the Invader draw() method:
          spaceInvader1.draw(); // <-- that's all we need to do to call the Invader's draw() method!
          spaceInvader2.draw(); // <-- do the same to draw the next Invader!
          spaceInvader3.draw(); // <-- and by now you are hopefully wondering about loops?
        }</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step07.gif" width=125/>
</div>

<h3>Step 7. Add an Interaction Method to the Invader Class</h3>
<p>You may have noticed above that our interaction is no longer reliable!<br/>
  We need to add a <code>checkForMouse()</code> method to the Invader class that changes the colour of each invader instance when the mouse is over it. So we can get rid of the legacy '<i>check mouse position</i>' code from the main <code>draw()</code> loop, but use this as the basis for developing a method in Invader.</p>
  <p class="stepTask">Add a method to the Invader class that checks whether the mouse is over the Invader and changes the colour if so.</p>
<p>You should be able to use the code from <b>Step 3.</b> above, and adapt this to create a method that checks whether the mouse is in the invader in the Invader class.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [3,4,5]">
  void checkForMouse()
  {
    // -- add the condition that checks for the mouse position and changes tint() depending on it.
    // -- see Step 3 above.
    // -- but this code needs to be a method of the Invader class, in the Invader tab.
  }</pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
<span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do you check whether the mouse is in the Invader object or not?</span>
<div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [6,2,3,4,5]">
        void checkForMouse() {
          if (mouseX> x-size/2 && mouseX< x+size/2 && mouseY> y-size/2 && mouseY< y+size/2) {
            tint(180, 200, 255);
          } else {
            tint(255);
          }
        }
      </pre></div>
      <p>&nbsp;</p>
      <p>This gives you the functionality.<br/>But to actually use it you will need to call this new method for each Invader in the <code>draw()</code> loop.<br/>
      Add the commands to the main sketch <code>draw()</code> method that call the new <code>checkForMouse()</code> method of each Invader.</p>
      <p>Be sure to call the Invader's <code>checkForMouse()</code> method in the main <code>draw()</code> loop of the sketch before you draw the Invader so that the fill colour or tint is set before the Invader is drawn: <code>object.checkForMouse()</code>.</p>
      <p>A good solution wil give us reliable interaction for each Invader that we initialise.</p>

      <!-- Hidden code button -->
<hr class="solutionButton"/>
    <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Can you remember how to to call the method of an object that you have instantiated? </span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [9,10,12,13,15,16]">
        void draw() {
          background(255);
        
          // -- show the frameCount:
          fill(32);
          text(frameCount, width-40, 12);
        
          // --> call this new method in the main draw() method of the sketch with - object.checkForMouse():
          spaceInvader1.checkForMouse();  // <-- use the new checkForMouse() method to see if the mouse is in spaceInvader1
          spaceInvader1.draw();          // <-- draw the Invader as the tint may have changed above!
         
          spaceInvader2.checkForMouse();  // <-- or spaceInvader2
          spaceInvader2.draw();          // <-- draw the Invader as the tint may have changed above!
         
          spaceInvader3.checkForMouse();  // <-- or spaceInvader3?
          spaceInvader3.draw();          // <-- draw the Invader as the tint may have changed above!
        }
    </pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step08.gif" width=125/>
</div>

<h3>Step 8. Add Animation - Make your Invaders Wave in a Threatening Manner!</h3>

<p class="stepTask">Like it says : add animation to make your Invaders wave!</p>
<p>The reason that we have two <code>PImage</code>s in the sketch is so that we can vary what is drawn in the Invader's <code>draw()</code> method.
  If we change the image that is drawn over time then we can animate it.</p>
Update the <code>draw()</code> method in the Invader class to change the image depending upon a combination of <code>frameCount</code> and <code>animSpeed</code> so that the image switching is faster when <code>animSpeed</code> is higher.
<br/>You may want to create a local variable to make this calculation and condition readable - I declare and calculate <code>whichImage</code>.</p>
<!-- <p>Update the sketch to display the value of <code>whichImage</code>.</p> -->

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [3,4]">
  void draw() // <-- this is the draw() method of the Invader class
  {
    // -- Calculate a number that varies between 0 and 1 over time and allows us to choose one image or the other to draw:
    int whichImage = (????????????)%2; // <-- uses modulo to return 1 or 0 from value that varies with frameCount

    if (whichImage == 1) {           // <-- vary image shown depending on value of whichImage
      image(img1, x, y, size, size); // <-- show img1 on the canvas
    } else {
      image(img2, x, y, size, size); // <-- show img2 on the canvas
    }
  }</pre>

  <p>See if you can calculate a value that varies a couple of times per second and then check for a solution.</p>
    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Can you calculate a value that results in 0 or 1 based <code>frameCount</code>?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [4]">
        void draw() // <-- this is the draw() method of the Invader class
          {
            // -- Calculate a number that varies between 0 and 1 over time and allows us to choose one image or the other to draw:
            int whichImage = (frameCount/animSpeed)%2; // <-- uses modulo to return 1 or 0 from value that varies with frameCount
        
            if (whichImage == 1) {           // <-- vary image shown depending on value of whichImage
              image(img1, x, y, size, size); // <-- show img1 on the canvas
            } else {
              image(img2, x, y, size, size); // <-- show img2 on the canvas
            }
          }</pre>
      </div>

      <p>&nbsp;</p>

      <p>Now update the initialization of your Invaders in the main <code>draw()</code>method to give them an <code>animSpeed</code> - it's the final parameter.<br/>
        Experiment with this. What happens as you vary it?</p>
          <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Initialise your Invaders with a non-zero <code>animSpeed</code> - final parameter</span>
      <div class="prettyprint" style="display: none;">
        <pre class="brush: processing; gutter: false; toolbar: false; highlight: [2,3,4]">
        // -- Initialise your Invaders with a non-zero animSpeed like this in the main sketch draw() method:
        spaceInvader1 = new Invader (xI, yI, sI, 0, 25);    // <-- instantiate the first Invader
        spaceInvader2 = new Invader (xI, yI-30, sI, 0, 20); // <-- instantiate the second Invader above
        spaceInvader3 = new Invader (xI, yI+30, sI, 0, 35); // <-- instantiate the third Invader below
      </pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step09.gif" width=125/>
</div>

<h3>Step 9. Make your Invader Move Across The Screen!</h3>
<p class="stepTask">Add a <code>move()</code> method to the Invader class that changes the Invader's <code>x</code> position by <code>speed</code>.</p>
<p>Update the sketch to <code>move()</code> the Invader each time the main <code>draw()</code> loop runs.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [4]">
  // -- This method needs to go in the Invader class definition, in the Invader tab near (but not in) draw(): 
  void move()
  {
    // -- change x position by speed:
  }
  </pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Add <code>speed</code> to the <code>x</code> position of the Invader</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [5]">
// -- This method needs to go in the Invader class definition, in the Invader tab near (but not in) draw(): 
void move()
{
  // -- change x position by speed:
  x+= speed; // <-- it's as easy as that!
}</pre>
</div>

<p>&nbsp;</p>
<p>To get the Invaders to move, you will need to call each Invader's <code>move()</code> method in the main <code>draw()</code> loop of the main sketch.</p>
<p>Still static? Remember to initialise the Invaders with a non-zero <code>speed</code>!</p>

    <!-- Hidden code button -->
    <hr class="solutionButton"/>
    <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How and where do we call the new <code>move()</code> method?</span>
<div class="prettyprint" style="display: none;">
  <pre class="brush: processing; gutter: false; toolbar: false; highlight: [2,3,4,7,8,9]">
// -- You will need to run the Invaders' move() method in the draw() loop:
spaceInvader1.move();
spaceInvader2.move();
spaceInvader3.move(); // <-- what happens if you hash this command out?

// -- Remember to give your Invaders a non-zero speed when you initialize them: 4th parameter, bigger is faster:
spaceInvader1 = new Invader (x, y, size, 1, 25);     // <-- instantiate the first Invader - speed is 1
spaceInvader2 = new Invader (x, y-30, size, 2, 20);  // <-- instantiate the second Invader above - faster!
spaceInvader3 = new Invader (x, y+30, size, -1, 35); // <-- instantiate the third Invader below - moves left
</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step10.gif" width=125/>
</div>

<h3>Step 10. Make your Invaders Stay on The Screen!</h3>
<p>Hang on - we lost out Invaders there!<br/>We need them to stay on the screen, so add a method to the Invader class that will change the direction of travel when the Invader reaches the screen edge.</p>
<p class="stepTask">Stop the Invaders from moving off the screen with a <code>checkForEdge()</code> method in the Invader that is called in the <code>draw()</code> loop.</p>
<p>A good way to do this is to add a <code>checkForEdge()</code> method to the Invader class and call this in the main <code>draw()</code> method before you <code>draw()</code> the Invader.<br/>
The <code>checkForEdge()</code> method should change the speed to the <i>negative</i> of the current speed if the Invader is at an edge - this will effectively make it change direction: <code>speed = speed * -1</code>.</p>
<p>Update the sketch to <code>checkForEdge()</code> after the Invader <code>move()</code>s in the main <code>draw()</code> loop.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [3]">
  void checkForEdge()
  {
    if (condition) // <-- under what condition(s) do we want to change the direction of travel of the Invader?
    {
      speed = speed * -1;
    }
  }  
</pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do we detect whether the Invader is at the left or right edge?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [3]">
        void checkForEdge()
        {
          if (x&lt;size &verbar;&verbar; x&gt;width-size) // &lt;-- you could use x&lt;0 or x&lt;size/2 here and get different effects
          {
            speed = speed * -1;
          }
        }      </pre>
      </div>

      <p><br/>Now we need to call this method in the main <code>draw()</code> loop to change the direction of the Invader is an edge is detected.<br/>
        How and where do we call our new <code>checkForEdge()</code> method?</p>

          <!-- Hidden code button -->
<hr class="solutionButton"/>
<span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How and where do we call our new <code>checkForEdge()</code> method?</span>
<div class="prettyprint" style="display: none;">
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [11,16,21]">
  void draw() {
    background(255);
  
    // -- show the frameCount:
    fill(32);
    text(frameCount, width-40, 12);
  
    // --> call this new method in the main draw() method of the sketch with - object.checkForEdge():
    spaceInvader1.checkForMouse(); // <-- use the new checkForMouse() method to see if the mouse is in spaceInvader1
    spaceInvader1.move();          // <-- move spaceInvader1
    spaceInvader1.checkForEdge();  // <-- check whether spaceInvader1 is at an edge?
    spaceInvader1.draw();          // <-- draw the Invader as the tint may have changed above!
  
    spaceInvader2.checkForMouse(); // <-- or spaceInvader2
    spaceInvader2.move();          // <-- move spaceInvader2
    spaceInvader2.checkForEdge();  // <-- check whether spaceInvader2 is at an edge?
    spaceInvader2.draw();          // <-- draw the Invader as the tint may have changed above!
  
    spaceInvader3.checkForMouse(); // <-- or spaceInvader3?
    spaceInvader3.move();          // <-- move spaceInvader3
    spaceInvader3.checkForEdge();  // <-- check whether spaceInvader3 is at an edge? What happens if you hash this out?
    spaceInvader3.draw();          // <-- draw the Invader as the tint may have changed above!
  }</pre></div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step11.gif" width=125/>
</div>

<h3>Step 11. Give your Invaders Not Active Status</h3>
<p>To make a game, we need to be able to give our Invaders a different <i>state</i> according to whether they are active or, well ... not.</p>
<p class="stepTask">Store the <code>isActive</code> status for each Invader and change its appearance and behaviour accordingly.</p>
<p>Give your Invader class another characteristic, by adding an <code>isActive</code> field. This should be a <b>boolean</b> that can capture (store, record) two states.<br/>
  Initially set this to <code>true</code> in the constructor when a new Invader object is initialised to capture its 'active' initial state.</p>
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [1]">
boolean isActive = true;       // <-- Invader status.</pre>
<p>If the Invader is <b>not active</b>, we need to reflect this in its look and behaviours.<br/>
So let's display it in a grey colour, and stop it waving and moving, based on the status of <code>isActive</code>.</p>
<p>Change <code>isActive</code> to <code>false</code> in the constructor and use conditions so that ... <code>if (isActive == false)</code> ...</p>
<ul>
<li>the image feint - <code>tint(255,64)</code></li>
<li>the waving stops</li>
<li>and the movement stop: <code>speed = 0</code></li>
</ul>
<p>You will need to update the <code>draw()</code> and <code>move()</code> methods in the Invader class to draw the Invader differently <code>if (isActive == false)</code>.</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [6,8,9,16]">
  // -- Methods of Invader class :
  void draw()
  {
    int whichImage = (frameCount/animSpeed)%2;
    if (! isActive) {
      // -- Faded out
    } else {
      // -- Not faded out  
      // Only waves if isActive
    }
  }


  void move()
  {
    // Only moves if isActive
  }  </pre>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do we use <code>isActive</code> to determine how the Invader is drawn and whether it moves?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [5,8,14,20,21,22]">
        // -- Methods of Invader class :
        void draw()
        {
          int whichImage = (frameCount/animSpeed)%2;
          if (! isActive) {
            tint(255, 64);  // <-- faded out
            image(img1, x, y, size, size);
          } else {
            if (whichImage == 1) {  // <-- only waves if isActive
              image(img1, x, y, size, size);
            } else {
              image(img2, x, y, size, size);
            }
          }
        }
      
      
        void move()
        {
          if (isActive) {  // <-- only moves if isActive
            x+= speed;
          }
        }
</pre>
      </div>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step12.gif" width=125/>
</div>

<h3>Step 12. Add a Mouse Interaction to Make Your Invader Not Active</h3>
<p class="stepTask">Make the Invaders not active when they are clicked.</p>
<p>Change the <code>checkForMouse</code> method in your Invader class so that if the mouse is on the Invader and <code>mousePressed</code> is <code>true</code>, your Invader is no longer active!<br/>
  You remember the <code><a href="https://processing.org/reference/mousePressed.html">mousePressed</a></code> variable that <i>Processing</i> stores?</p>

  <p>Can you work out where to add the following code in your Invader class?<br/>Which method would this work in?<br/>Where do you need to put it to change the status if the Invader if the mouse is pressed when it is on the Invader?</p>

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [18]">
  if (mousePressed) {
    tint(255, 0, 0);
    isActive = false;
  }
</pre>


    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - Where would you put the code that changes the <code>isActive</code> state of an Invader?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [7,8,9,10,11]">
        void checkForMouse()
        {
          if (mouseX&gt; x-size/2 && mouseX&lt; x+size/2 && mouseY&gt; y-size/2 && mouseY&lt; y+size/2) {
            // -- mouse is in image:
            tint(180, 200, 255);

            // -- put it here so that isActive changes if the mouse is pressed and the mouse is on the Invader:
            if (mousePressed) {
              // -- mouse button is pressed - and mouse is within Invader - so change the status:
              tint(255, 0, 0);
              isActive = false;
              //score ++;  // <-- add to the score (if you have a 'score' global declared at the top of the sketch and initialised to 0)
            }
          } else {
            // -- mouse is not in image:
            tint(255);
          }
        }      </pre>
      </div>

<p>&nbsp;</p>
<p>This is almost a game. Almost, right?</p>
<p>ðŸ‘¾ ðŸ‘¾ ðŸ‘¾</p>
<p>You could add a global <code>score</code> variable, increment it when an Invader is clicked, as shown in the solution above, and show this on the canvas.</p>

<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->
 
<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step13.gif" width=125/>
</div>

<h3>13. Add More Invaders (Groups!)</h3>
<p><b>Step 13!!!!</b> Well, the point of all of this becomes more evident when we realise that we need more Invaders.<br/>
  And then it's clear that adding more Invaders is very straightforward now that we have a nicely defined Invader class.<br/>
  Because now we have an Invader class we can easily declare amy more instances with behaviours that vary in the ways defined by the fields that capture the Invaders' various characteristics.<br/>
  So let's declare an array full of them, and add them at random positions and with random speeds.</p>
<p>Then we have a game!</p>
<p class="stepTask">Make an array full of Invaders.</p>
<p>Use the code below to help.</p>

Declare a global variable at the top of the sketch - an array of Invaders:

<pre class="brush: processing; gutter: false; toolbar: false; highlight: [18]">
  // -- Declare a global variable at the top of the main sketch - an array of Invaders:
  Invader [] spaceInvaders;</pre>

 <p>Then in <code>setup()</code>, initialise this array with as many Invaders as you need...<br/>before looping through each element of the array of Invaders and initialising an Invader in each array element with random characteristics.</p>

  <pre class="brush: processing; gutter: false; toolbar: false; highlight: [18]">
  // -- Then in setup() ...
  // -- Initialise this array with as many Invaders as you need:
  spaceInvaders = new Invader [55];

  // -- Run through the array initialising Invaders in each array element with random characteristics:
  for (int i=0; i&lt; spaceInvaders.length; i++) {
    spaceInvaders[i] = new Invader (random(sI, width-sI),     // &lt;-- argument 1 - random x position 
                                    random(sI, height-sI),    // &lt;-- argument 2 - random y position
                                    sI,                        // &lt;-- argument 3 - constant size, from global
                                    random(-3, 3),             // &lt;-- argument 4 - random speed, between 3 and -3
                                    int(random(25, 75))       // &lt;-- argument 5 - random animation speed between 25 and 75
                                    );
  }
</pre>

<p>This looks a little complicated - here we do <i>exactly</i> the same thing with some temporary local variables that may make it clearer:</p>
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [18]">
  // -- Then in setup() ...
  // -- Initialise this array with as many Invaders as you need:
  spaceInvaders = new Invader [55];

  // -- Run through the array initialising Invaders in each array element with random characteristics:
  for (int i=0; i&lt; spaceInvaders.length; i++) {
    float x = random(sI, width-sI);         // &lt;-- argument 1 - random x position 
    float y = random(sI, height-sI);        // &lt;-- argument 2 - random y position
    float speed = random(-3, 3);             // &lt;-- argument 4 - random speed, between 3 and -3
    float wave = int(random(25, 75));       // &lt;-- argument 5 - random animation speed between 25 and 75

    // -- Initialise Invader [i] with these values that define its initial state:
    spaceInvaders[i] = new Invader (x,y,sI,speed,wave);
  }
</pre>

<p>&nbsp;</p>
<p>Can you refactor your code to declare and initialise these arrays?<br/>
  You then need to work out how you loop through the array of Invaders to move, check for edges, check for the mouse and then draw, each Invader in the main sketch <code>draw()</code> loop.</p>

    <!-- Hidden code button -->
<hr class="solutionButton"/>
        <span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>But Have a Try First!</b> - How do we call the methods for all Invaders in the main sketch <code>draw()</code> loop?</span>
    <div class="prettyprint" style="display: none;">
      <pre class="brush: processing; gutter: false; toolbar: false; highlight: [4,5,6,7]">
        // -- You need to loop through the array of Invaders in turn and run the methods that invoke the behaviours.
        // -- Something like this goes in the main sketch draw() loop: 
        for (Invader i : spaceInvaders) {
          i.move();
          i.checkForEdge();
          i.checkForMouse();
          i.draw();
        }
</pre>
      </div>

    <p>&nbsp;</p>
    <p>This actually makes the main <code>draw()</code> method in the sketch pretty elegant and readable.<br/>
    If you want to see what I have in the first tab of my sketch - click below!<br/>
   The Invader class is defined in the 'Invader' tab.</p>

        <!-- Hidden code button -->
<hr class="solutionButton"/>
<span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Solution&nbsp;</a> ðŸ‘ˆ <b>The full First Tab!</b> - Here is what I have - nice and tidy! Changes made in this step are highlighted</span>
<div class="prettyprint" style="display: none;">
<pre class="brush: processing; gutter: false; toolbar: false; highlight: [3,16,17,19,20,21,22,32,33,34,35,36,37,38]">
  PImage img1, img2;

  Invader [] spaceInvaders; // <-- declare array of Invaders
  
  int sI = 25;  // <-- Invader size (declare)
  
  void setup() {
    size(200, 200);
  
    // -- load the images that the Invader objects use:
    img1 = loadImage("invader11.up.png");
    img2 = loadImage("invader11.down.png");
  
    imageMode(CENTER);
  
    // -- Initialise the array of Invaders:
    spaceInvaders = new Invader [55];
  
    // -- Initialise all the Invaders in the array with random positions, speeds and animation speeds:
    for (int i=0; i< spaceInvaders.length; i++) {
      spaceInvaders[i] = new Invader (random(sI, width-sI), random(sI, height-sI), sI, random(-3, 3), int(random(25, 75)));
    }
  }
  
  void draw() {
    background(255);
  
    // -- show the frameCount:
    fill(32);
    text(frameCount, width-40, 12);
  
    // -- Loop through the array of Invaders : move, check edge, check mouse, draw
    for (Invader i : spaceInvaders) {
      i.move();
      i.checkForEdge();
      i.checkForMouse();
      i.draw();
    }
  }</pre>
</div>


<hr class="step"/> <!--- ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ --->

<div style="float:right; padding-left:1em;padding-bottom:1em;padding-top:2em">
  <img class="invader" src="https://jsndyks.github.io/cityBootCamp/html/invader/gif/invader.step14.gif" width=125/>
</div>

<h3>14. Vary Game and GamePlay</h3>
<p>Of course you could do much more - be imaginative.</p>
<p>You might want to increase <code>y</code> by <code>speed</code> when a bounce occurs, change the <code>animSpeed</code> or <code>size</code> at the same time, or add a <b>Game Over</b> is an Invader hits the floor.</p>
<p>With an <code>ArrayList</code>of Invaders (<code>ArrayList&lt;Invader&gt;</code>) you could add and remove Invaders with different characteristics over time.</p>
<p>You could add sound to the game - do check the '<i>Art and Media</i>' lecture for ideas and sound files.</p>
<p>Have fun and be imaginative</p>
<p>Here is a sketch that does some of this, and an Invader class that supports it:</p>

<p><b>Sketch : spaceInvader.pde</b></p>
<span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Sketch&nbsp;</a> ðŸ‘ˆ <b>Copy, and Paste into a <i>Processing Sketch</i></b> - Have a play and make edits to improve things</span>
<div class="prettyprint" style="display: none;">
  <pre class="brush: processing; gutter: false; toolbar: false">
    PImage img1, img2;

    Invader [] spaceInvaders;
    
    float sz = 25;
    int score = 0;
    int saveStart=0;
    int framesSaved=120;
    
    boolean gameOver = false;
    boolean saveFrame = false;
    
    void setup() {
      size(200, 200);
    
      img1 = loadImage("invader11.up.png");
      img2 = loadImage("invader11.down.png");
    
      imageMode(CENTER);
    
      spaceInvaders = new Invader [55];
    
      for (int i=0; i< spaceInvaders.length; i++) {
        spaceInvaders[i] = new Invader (random(sz, width-sz), random(sz, height-sz), sz, random(-3, 3), int(random(25, 75)));
      }
    }
    
    void draw() {
      background(245);
    
      // -- change the image:
      fill(32);
      textSize(12);
      text(frameCount, width-40, 12);
      text(score, 25, 12);
    
      for (Invader i : spaceInvaders) {
        i.move();
        i.checkForEdge();
        i.checkForMouse();
        i.draw();
      }
    
      if (gameOver) {
        gameOver();
      }
    
      // -- output imagery for movie / animated GIF - limit to framesSaved frames:
      if (saveFrame) {
        if (frameCount - saveStart < framesSaved) {
          saveFrame("frames/invader.####.tif");
        } else {
          saveFrame = false;
        }
      }
    }
    
    void gameOver() {
      fill(255, 0, 0, 32);
      noStroke();
      rect(0, 0, width, height);
      tint(255, 128, 128);
      image(img2, width/2, height/2, sz*3, sz*3);
      textSize(36);
      textAlign(CENTER);
      fill(16);
      text("GAME OVER", width/2, height*0.8);
    }
    
    void keyPressed() {
      if (key == 's') {
        int n = int(random(11111, 99999));
        save("invader."+n+".png");
      }
      if (key == 'f') {
        saveFrame = !saveFrame;
        saveStart = frameCount;
      }
    }
    </pre>
</div>

<p style="padding-top:3em">&nbsp;</p>
<p><b>Invader Class : Invader.pde</b> - put this in a tab called 'Invader'</p>
<span class="showSolutionButton">&nbsp;<a href="#" class="link-show-code">&nbsp;Show Sketch&nbsp;</a> ðŸ‘ˆ <b>Copy, and Paste into the same <i>Processing Sketch</i></b> - Add this as a tab that defines the Invader class</span>
<div class="prettyprint" style="display: none;">
  <pre class="brush: processing; gutter: false; toolbar: false">
    class Invader
    {
      float x, y;                   // <-- Invader position.
      float size, speed;            // <-- Invader size & speed.
      int   animSpeed;              // <-- Invader image animation change speed.
      boolean isActive = true;       // <-- Invader status.
      boolean isKiller = false;     // <-- Is this the killer invader?
    
      // -- Constructor - this is called whenever a new invader is created.
      Invader(float xIn, float yIn, float sizeIn, float speedIn, int animIn)
      {
        // -- Initialise the state of the invader.
        x=xIn;
        y=yIn;
        size=sizeIn;
        speed=speedIn;
        animSpeed=animIn;
      }
    
      void draw()
      {
        int whichImage = (frameCount/animSpeed)%2;
        if (! isActive) {
          tint(255, 64);
          image(img2, x, y, size, size);
        } else {
          if (isKiller) {
            tint(255,0,0);
          }
          if (whichImage == 1) {
            image(img1, x, y, size, size);
          } else {
            image(img2, x, y, size, size);
          }
        }
      }
    
      void move()
      {
        if (isActive) {
          x+= speed;
        }
      }
    
      void checkForEdge()
      {
        if (x<size || x>width-size) {
          speed = speed * -1;
          if (!gameOver) {
            y+= abs(speed*2);
          }
        }
    
        if (y>=height-size/2) {
          isKiller = true;  // <-- make the killer Invader red
          gameOver = true;  // <-- Change game status
          animSpeed = 5;    // <-- make killer invader go crazy!
        }
      }
    
      void checkForMouse()
      {
        if (mouseX> x-size/2 && mouseX< x+size/2 && mouseY> y-size/2 && mouseY< y+size/2) {
          tint(180, 200, 255);
          if (mousePressed && !gameOver) {
            if (isActive) {
              score ++;
            }
            isActive = false;
            tint(255, 0, 0);
          }
        } else {
          tint(255);
        }
      }
    }
    </pre>
</div>

<p>&nbsp;</p>
<p>Here are both files and the two images in a zip archive that you can download, run, debug, run again and play with!</p>

<ul><li><a href="https://jsndyks.github.io/cityBootCamp/html/invader/pde/spaceInvader_step14_JD.zip">spaceInvader_step14_JD.zip</a></li></ul>

<p class="stepTask">Go for it!</p>

<!-- <hr class="step"> - ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ ðŸ‘¾ - -->

    <!-- End of content -->
            <hr />
            <div class="sig">
                <b>Jason DYKES</b><br />
                <!-- <i>06 Oct 2023</i> -->
                <!-- <i>10 Oct 2023</i> -->
                <i>11 Oct 2023</i>
            </div>
            <div style="padding-bottom:2em;clear:both" />


<!--- spacer for iFrame -->
<p style="padding-top:1em"><hr/></p>

    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Footer ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  </div> <!-- End of page div -->
  <script type="text/javascript">SyntaxHighlighter.all()</script>
</body>

</html>