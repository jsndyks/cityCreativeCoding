<!DOCTYPE html>
<html>

<head>
    <title>Programming Bootcamp Project Ideas: Mandelbrot Set</title>

    <!-- Header, 16th September, 2021 -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Embedded fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Slab|Shadows+Into+Light|Source+Code+Pro&display=swap"
        rel="stylesheet">

    <!-- Custom layout and style -->
    <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/shCore.css" type="text/css" />
    <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/shThemeDefault.css" type="text/css" />
    <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/kube.min.css" type="text/css" />
    <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/master.css?rnd=123" type="text/css" />
    <link rel="stylesheet" href="https://www.staff.city.ac.uk/~jwo/moodle/css/highslide.css" type="text/css" />

    <!-- General browser compatibility handling -->
    <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/jquery-3.1.0.slim.min.js"></script>

    <!-- Formatted source code -->
    <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/shCore.js"></script>
    <script type="text/javascript" src="https://www.staff.city.ac.uk/~jwo/moodle/js/shBrushProcessing.js"></script>

    <!-- Sketch popups and hidden text-->
    <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/highslide-with-html.packed.js"></script>
    <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/highslide-cfg.js"></script>
    <script src="https://www.staff.city.ac.uk/~jwo/moodle/js/master.js"></script>

</head>

<body>
    <div id="page">

        <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Introduction ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
        <!-- TITLE HEADING OF PAGE SHOULD BE VIA MOODLE, NOT HERE -->
        <!-- Content below -->
        <p class="intro">
            This project involves creating pictures of the <a href="http://yozh.org/mset_index"
                target="_blank">Mandelbrot set</a> - an infinitely complex shape generated by a very simple mathematical
            formula. It is an example of a <i>fractal</i> - a shape that repeats itself over a range of scales - zooming
            into part of the shape reveals more detail that looks similar to the shape as a whole.
        </p>

        <p>
            Suppose we had a simple piece of code:
        </p>
        <pre class="brush: processing; gutter: false; toolbar: false;">				float x = 0;
				float c = 2;
				
				x = x*x + c;
			</pre>

        <p>
            After running the code once, the value of x would be 2 (replacing the x on the right of the equals sign with
            0 and the c with 2 gives 0 times 0 plus 2). If we repeated the last line again, this time the result would
            be 6 (replacing the x on the right hand side with the 2 we calculated from the previous time x was
            calculated, giving 2 times 2 plus 2). If we repeated it a third time x would be 38 (6 times 6 plus 2). We
            can see that as the expression <i>x<sup>2</sup> + c</i> is iterated (repeated), for c=2, the value of x
            rapidly gets larger. After an infinite number of iterations, x too would be infinity.
        </p>

        <p>
            But suppose we did the same thing again, but this time initialising c=0.1 instead of 2. After the first
            iteration x would be 0.1, then 0.11, then 0.1121. In this case, after a large number of iterations, x
            doesn't get much larger, but instead stabilises to a value close to 0.113. If we were to explore a whole
            range of different values of c, we would find that some values cause x to get larger and larger tending
            towards infinity, while others stabilise to a small finite number.
        </p>

        <p>
            The Mandelbrot set is the set of all values of c where after many iterations, the value of the calculation
            does not tend to infinity. But instead of using simple numbers (as represented by x and c above), we use
            what are called <a href="http://en.wikipedia.org/wiki/Complex_number" target="_blank">complex numbers</a>. A
            single complex number has two components to it - a <i>real</i> part and an <i>imaginary</i> part. That means
            we can plot a complex number graphically by positioning the real part along the horizontal (x) axis, and the
            imaginary part along the vertical (y) axis.
        </p>

        <p>
            So if we plot all the values of c that are within the Mandelbrot set as black, and all those values that
            shoot off to infinity as white, we get a shape as follows:
        </p>

        <p>
            <img src="https://staff.city.ac.uk/~jwo/bootcamp2018/images/fractals/mandelbrot1.png" width="800"
                height="558" alt="The full Mandelbrot set"><br />
            The two axes represent the real (horizontal) and imaginary (vertical) components of the value
            <code>c</code>, so the whole Mandelbrot set is enclosed within the space (-2,-1.5) and (0.5,1.5).
        </p>

        <p>
            The graphically interesting parts of the Mandelbrot set are around the boundary between the black and the
            white. But rather than just plot only two colours representing 'in' and 'out' of the set, we can also
            measure how many iterations it takes before any given value of <code>c</code> starts to shoot off to
            infinity. This is known as the 'time to orbit'. We can also measure the rate at which c increases at the
            point it goes in to orbit, known as the 'escape velocity'. By colouring the boundary points by either of
            these two values you can produce some visually stunning images.
        </p>

        <p>
            To help you get started with this project, here are a few methods that you can add to your own sketches that
            do the arithmetic on complex numbers. Assume that for these methods a single complex number is stored in a
            simple <code>float</code> array containing only two elements (the real and imaginary parts of the number).

        </p>
        <div>
            <!-- Hidden code button -->
            <span><a href="#" class="link-show-code">Show code</a></span>
            <div class="prettyprint" style="display: none;">
                <pre class="brush: processing; gutter: false; toolbar: false;">// Adds two complex numbers together and returns the result.
float[] add(float[] complexA, float[] complexB)
{
  float real = complexA[0] + complexB[0];
  float imag = complexA[1] + complexB[1];
  return new float[] {real, imag};
}

// Multiplies two complex numbers together and returns the result.
float[] multiply(float[] complexA, float[] complexB)
{
  float real = complexA[0]*complexB[0] - complexA[1]*complexB[1];
  float imag = complexA[0]*complexB[1] + complexA[1]*complexB[0];
  return new float[] {real, imag};
}

// Calculates the squared distance of the given complex number from the origin point (0,0).
float distanceFromZero(float[] complex)
{
  return complex[0]*complex[0] + complex[1]*complex[1];
}
			
// Calculates how many iterations of function before/if result loses orbit
// c is the constant complex value to be added to each iteration.
// This method returns the number of iterations before value exceeds a squared distance of 4
// which is sufficient to determine if the number will eventually hit infinity. If 255 iterations
// occur before distance is 4, we can be confident number will not escape.
int timeToOrbit(float[] c)
{
  int numIterations = 0;
  float[] num = new float[] {0, 0};
  float escapeVelocity = 0;

  for (int i = 0; i&lt;255; i++)
  {
    num = add(multiply(num, num), c);
    escapeVelocity = distanceFromZero(num);
    if (escapeVelocity &gt; 4)
    {
      return i+1;
    }
  }
  return 255;
}</pre>
            </div>

        </div>
        <p></p>

        <p>
            Here are some possible approaches to the project, but feel free to devise your own:
        </p>

        <ul>
            <li>Experiment with different colour rules that are dependent on the <i>escape velocity</i> and <i>time to
                    orbit</i>.</li>
            <li>Use interaction to explore different parts of the Mandelbrot set. This might involve selection of areas
                of interest with the mouse, or an interactive 'fly-through' controlled by the keyboard.</li>
            <li>Experiment with other fractals using different formulae instead of <i>z<sup>2</sup>+c</i></li>
            <li>Generate pictures of <a href="http://yozh.org/2011/03/14/mset006/" target="_blank">Julia Sets</a>
                (closely related to the Mandelbrot set).</li>
        </ul>

        <p class="tip">
            You will find many examples of code to generate Mandelbrot sets on the web. You are free to look at these to
            help you develop your own skills, but the aim of this project is to develop <i>your</i> programming skills
            and for <i>you</i> to create something original. So please do not simply copy code you have found elsewhere.
        </p>


        <p>
            <img src="https://staff.city.ac.uk/~jwo/bootcamp2018/images/fractals/mandelbrot2.png" width="1000"
                height="625" alt="Part of the Mandelbrot set"><br />
            A tiny part of the Mandelbrot set rendered with Processing. The colour is determined by the number of
            iterations required before c 'escapes' into orbit. The striped effect is achieved by alternating light and
            dark colours for odd and even numbers of iterations to reach orbit.
        </p>


        <!-- End of content -->
        <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    </div> <!-- End of page div -->
    <script type="text/javascript">SyntaxHighlighter.all()</script>
</body>

</html>